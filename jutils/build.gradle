apply plugin: 'java-library'
apply plugin: 'kotlin'

buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath Plugins.kotlin
    }
}

sourceCompatibility = Versions.java8
targetCompatibility = Versions.java8

compileKotlin {
    kotlinOptions {
        jvmTarget = Versions.java8
    }
}
compileTestKotlin {
    kotlinOptions {
        jvmTarget = Versions.java8
    }
}
dependencies {
    implementation Libs.kotlinStd8
    implementation Libs.mockito
}

apply plugin: 'maven'
apply plugin: 'custom-archivaupload'
archiva {
    artifactId = "jutils"
    packaging = "jar"
}
uploadArchives { repositories { mavenDeployer() } }
archivaUpload.finalizedBy uploadArchives
uploadArchives.finalizedBy incrementVersion