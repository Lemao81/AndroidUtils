apply plugin: 'java-library'
apply plugin: 'kotlin'
apply plugin: 'maven'
apply plugin: 'custom-archivaupload'

buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath Plugins.kotlin
    }
}

kotlin { experimental { coroutines "enable" } }

sourceCompatibility = Versions.java8
targetCompatibility = Versions.java8

compileKotlin {
    kotlinOptions {
        jvmTarget = Versions.java8
    }
}

compileTestKotlin {
    kotlinOptions {
        jvmTarget = Versions.java8
    }
}

dependencies {
    implementation Lib.kotlinStd8
    implementation Lib.kotlinCoroutine
    implementation Lib.mockito
    implementation Lib.jUnit
    implementation Lib.mockitoKotlin
    implementation Lib.rxJava
}

archiva {
    artifactId = "jutils"
    packaging = "jar"
}
uploadArchives { repositories { mavenDeployer() } }