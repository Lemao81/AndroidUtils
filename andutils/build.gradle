apply plugin: 'com.android.library'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-kapt'
apply plugin: 'maven'
apply plugin: 'custom-archivaupload'

android {
    compileSdkVersion Versions.compileSdkVersion
    defaultConfig {
        minSdkVersion Versions.minSdkVersion
        targetSdkVersion Versions.targetSdkVersion
        versionCode Versions.versionCode
        versionName Versions.versionName
        multiDexEnabled true
    }
    dataBinding { enabled = true }
    lintOptions { abortOnError false }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
}

dependencies {
    compileOnly fileTree(include: ['*.jar'], dir: 'libs')

    implementation Libs.appcompat
    implementation Libs.rxJava
    implementation Libs.kotlinStd8
    implementation Libs.kotlinReflect
    implementation Libs.gmsBase
    implementation Libs.recyclerView
    implementation Libs.supportV4
    implementation Libs.design
    implementation Libs.anko
    implementation Libs.joda
    implementation Libs.glide
    implementation Libs.mosbyMvi
    implementation Libs.rxJavaAndroid
    implementation Libs.jutils
    implementation Libs.koin
    implementation Libs.androidKtx
    implementation Libs.archLifecycleExtensions
    implementation Libs.roomRuntime
    implementation Libs.constraintLayout
    kapt Libs.databindingCompiler
    kapt Libs.glideCompiler

    testImplementation Libs.jUnit
}

archiva { artifactId = "andutils" }
uploadArchives { repositories { mavenDeployer() } }