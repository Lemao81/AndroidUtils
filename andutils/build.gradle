apply plugin: 'com.android.library'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-kapt'
apply plugin: 'maven'
apply plugin: 'custom-archivaupload'

kotlin { experimental { coroutines "enable" } }

android {
    compileSdkVersion App.compileSdkVersion
    defaultConfig {
        minSdkVersion App.minSdkVersion
        targetSdkVersion App.targetSdkVersion
        versionCode App.versionCode
        versionName App.versionName
        multiDexEnabled true
    }
    dataBinding { enabled = true }
    lintOptions { abortOnError false }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }
}

dependencies {
    compileOnly fileTree(include: ['*.jar'], dir: 'libs')

    implementation Lib.appcompatV7
    implementation Lib.rxJava
    implementation Lib.kotlinStd8
    implementation Lib.kotlinReflect
    implementation Lib.gmsBase
    implementation Lib.recyclerView
    implementation Lib.supportV4
    implementation Lib.design
    implementation Lib.anko
    implementation Lib.joda
    implementation Lib.glide
    implementation Lib.mosbyMvi
    implementation Lib.rxJavaAndroid
    implementation Lib.jutils
    implementation Lib.koin
    implementation Lib.androidKtx
    implementation Lib.archLifecycleExtensions
    implementation Lib.roomRuntime
    implementation Lib.constraintLayout
    implementation Lib.kotlinCoroutineAndroid
    implementation Lib.archNavigationUi
    kapt Lib.glideCompiler

    testImplementation Lib.jUnit
}

archiva { artifactId = "andutils" }
uploadArchives { repositories { mavenDeployer() } }